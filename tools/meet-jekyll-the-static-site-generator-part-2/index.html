<!DOCTYPE html>
<html lang="en">
  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="shortcut icon" href="/images/samheuck-weblogo-small.png" type="image/png">
  <title>Sam Heuck | Meet Jekyll the Static Site Generator - Part 2</title>

  
  <meta name="description" content="Here lie the ramblings of a passionate web developer." />
  

  <link rel="stylesheet" href="/pictonic/css/pictonic.css">
  <!--[if lt IE 8]><script src="/pictonic/js/pictonic.min.js"></script><![endif]-->

  <link href='http://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>

  <link href='/assets/global-33af9e50e07b2271b1b34d74747a2747.css' rel='stylesheet' type='text/css' />


  </head>

  <body>
    <header>
     <a href="/" title="Home" rel="home">
  <img id="logo" src="/images/dizzy.png" alt="SamHeuck.com">
  <div id="site-name"><span>Sam</span> <span class='accent'>Heuck</span></div>
</a>

<nav>
  <ul>
    
      
      
      
    <li ><a  href="/about/">about</a></li>
    
      
      
      
    <li ><a  href="/resume/">resume</a></li>
    
      
      
      
    <li ><a  href="/blog/">blog</a></li>
    
  </ul>
</nav>

    </header>

    <div id="main">
      <section class="post">
        <h1 class='heading'>Meet Jekyll the Static Site Generator - Part 2</h1>
        <span class='post-date'>19 March 2013</span>
        <p><img src="/images/meet_jekyll.jpg" alt="Jekyll" /></p>

<h3 id="part-ii">Part II</h3>

<p>In <a href="/tools/meet-jekyll-the-static-site-generator">part 1</a> I discussed why I
chose Jekyll to build this site and presented a high level overview of how
Jekyll works. In this post, I’ll dive into the depths of Jekyll and show off
some of its features.</p>

<h3 id="liquid-templates">Liquid Templates</h3>

<p>The template engine used by Jekyll is called <a href="http://liquidmarkup.org/">Liquid</a>.
Liquid makes it easy to create a layout and pull in page elements dynamically.</p>

<p>Jekyll will compile content into a page using a layout like this:</p>

<pre><code>// _layouts/default.html

&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
  {% include head.inc %}
  &lt;/head&gt;

  &lt;body&gt;
    &lt;header&gt;
     {% include header.inc %}
    &lt;/header&gt;

    &lt;div id="main"&gt;
      {{ content }}
    &lt;/div&gt;

    &lt;aside&gt;
    {% include sidebar.inc %}
    &lt;/aside&gt;
  &lt;/body&gt;
  {% include js.inc %}
&lt;/html&gt;
</code></pre>

<p><strong>Including partials</strong></p>

<p>Jekyll will automatically find includes in the _includes directory.</p>

<pre><code>{% include links.inc %}
</code></pre>

<p><strong>Loops and conditionals</strong></p>

<p>Any page that begins with a YAML Front matter block…</p>

<pre><code>---
// predefinded default variables
layout: default
category: funny
published: true
tags: cats

// custom variables
context: cats
title: Funny Cats
---
</code></pre>

<p>can declare variables which can be accessed in Liquid. This allows the
conditional placement of content. For instance, you can place a sidebar on a
page based on a context variable…</p>

<pre><code>// default layout

...
&lt;aside&gt;
  {% case page.context %}
    {% when 'about' %}
      {% include sidebars/about-sidebar.inc %}
    {% when 'contact' %}
      {% include sidebars/contact-sidebar.inc %}
    {% when 'home' %}
      {% include sidebars/home-sidebar.inc %}
    {% when 'blog' %}
      {% include sidebars/blog-sidebar.inc %}
    {% else %}
  {% endcase %}
&lt;/aside&gt;
</code></pre>

<p>It’s also simple to create a recent posts block with a loop…</p>

<pre><code>&lt;h3&gt;Recent Posts&lt;/h3&gt;
&lt;ul&gt;
  {% for post in site.posts limit: 6 %}
  &lt;li&gt;&lt;a href="{{ post.url }}"&gt;{{ post.title }}&lt;/a&gt;&lt;/li&gt;
  {% endfor %}
&lt;/ul&gt;
</code></pre>

<p>Site-wide variables can be declared in _config.yml. This is a convenient place
to put primary navigation…</p>

<pre><code>// _config.yml

...

nav:
  - text: about
    url: /about/index.html
  - text: resume
    url: /resume/index.html
  - text: contact
    url: /contact/index.html
  - text: blog
    url: /blog/index.html
</code></pre>

<p>Which can be included in the layout</p>

<pre><code>&lt;nav&gt;
  {% for link in site.nav %}
    {% assign active = nil %}
    {% if page.url == link.url or page.layout == link.layout %}
      {% assign active = 'class="active"' %}
    {% endif %}
    &lt;li&gt;&lt;a {{ active }} href="/{{ link.text }}/"&gt;{{ link.text }}&lt;/a&gt;{{ indicator }}&lt;/li&gt;
  {% endfor %}
&lt;/nav&gt;
</code></pre>

<h3 id="plugins">Plugins</h3>

<p>Out of the box, Jekyll is well equipped to create a blog with a custom layout,
and it has built in support for markdown. But augment Jekyll with plugins and
you can start cooking with gas.</p>

<p><strong>Jekyll Asset pipeline</strong></p>

<p>This is an essential plugin for Jekyll that will compile sass, and also
aggregate and compress javascript and css.</p>

<pre><code>$~ gem install Jekyll-asset-pipeline
</code></pre>

<p>You have to install a compressor. I like the yui-compressor because it will
minify both javascript and css.</p>

<pre><code>$~ gem install yui-compressor
</code></pre>

<p>Once these Ruby gems are installed, enabling the asset pipeline plugin is as
simple as putting a config file inside the _plugins directory. Here’s the one I
use for this site…</p>

<pre><code>require 'Jekyll_asset_pipeline'

module JekyllAssetPipeline
  class SassConverter &lt; JekyllAssetPipeline::Converter
    require 'sass'

    def self.filetype
      '.sass'
    end

    def convert
      return Sass::Engine.new(@content, :load_paths =&gt; ['.','../_assets','_assets/sass','../_assets/sass'], :syntax =&gt; :sass).render
    end
  end

  class CssCompressor &lt; JekyllAssetPipeline::Compressor
    require 'yui/compressor'

    def self.filetype
      '.css'
    end

    def compress
      return YUI::CssCompressor.new.compress(@content)
    end
  end

  class JavaScriptCompressor &lt; JekyllAssetPipeline::Compressor
    require 'yui/compressor'

    def self.filetype
      '.js'
    end

    def compress
      return YUI::JavaScriptCompressor.new(:munge =&gt; true).compress(@content)
    end
  end
end
</code></pre>

<p>The asset pipeline plugin hooks into Liquid and looks for assets to include
inside the _assets folder.</p>

<p>Adding javascript looks like this:</p>

<pre><code>{% javascript_asset_tag global %}
  - /_assets/js/jquery.js
  - /_assets/js/highlight.js
  - /_assets/js/init.js
{% endjavascript_asset_tag %}
</code></pre>

<p>And css:</p>

<pre><code>{% css_asset_tag global %}
  - /_assets/css/normalize.css
  - /_assets/screen.sass
{% endcss_asset_tag %}
</code></pre>

<p>Including any file ending in .sass will cause asset pipline to compile the sass
into css on site build.</p>

<p>I also like to use a plugin for <a href="https://github.com/kinnetica/Jekyll-plugins">sitemap generation</a>.
Just include it in the _plugins directory and a sitemap will be automatically
generated on site build.</p>

<h3 id="helpers">Helpers</h3>

<p>Thor is an alternative to Rake. I like to use it as a helper for creating posts
and deploying my site. <a href="http://whatisthor.com/">Thor has some nifty features.</a></p>

<pre><code>$~ gem install thor
</code></pre>

<p>A Thor task for creating posts:</p>

<pre><code>class Site &lt; Thor
  include Thor::Actions

  desc "post", "create a new post"
  def post
    title = ask("Title:")
    @title = title
    @description = ask("Description:")
    @category = ask("Category:")
    @date = Time.now.strftime('%Y-%m-%d %k:%M:%S')

      filename = "#{Time.now.strftime('%Y-%m-%d')}-#{title.gsub(/\s/, '-').downcase}.md"
      template "_thor/templates/post", "_posts/#{filename}"

    if ENV['EDITOR']
        system("$EDITOR _posts/#{filename}")
    else
      system("vim _posts/#{filename}")
    end
  end
end


// Thor template for posts
// lives in _thor/templates
---
layout: post
published: false
date: &lt;%= @date %&gt;

title: &lt;%= @title %&gt;
description: &lt;%= @description %&gt;
category: &lt;%= @category %&gt;
image: &lt;%= @image %&gt;
---
</code></pre>

<p>From the command line, run thor site:post and it will prompt for info about
the post - title, description, category and an image - and then create a file
in _posts and open that file in your editor.</p>

<p>Thor could also be used to run Jekyll, and then rsync the contents of _site to
a server for easy deployment.</p>

<p>You can also use <a href="http://jenkins-ci.org/">Jenkins</a> for deployment. For this site,
I have the Jekyll stack and Thor installed on my host server. I then use Jenkins
to run the thor deploy task which copies the contents of _site into the public
html folder on my host. Updating my site is as simple as writing some content,
saving that content into version control, and then running the Jenkins build.</p>

<p>Taking this one step further, you could have Jenkins watch a remote repository
for changes, and automatically run a build and deploy whenever it sees a change
in the code base. That way, the site would be updated every time you pushed
changes to your repository.</p>

<p>So go start using Jekyll! Trust me, it’s fun…</p>


      </section>
    </div>

    <aside>
      <img class="about-img" src="/images/sam.jpg" alt="Sam Heuck" title="Sam Heuck">

<div class='sb-block' id='recent-posts'>
  <h3>Recent Posts</h3>
  <ul>
  
    <li><span class='icon-kub-arw-right arrow'></span><a href="/coding/the-unforseen-downside-of-dabbling-in-a-new-language">The unforeseen challenge of dabbling in a new language</a></li>
  
    <li><span class='icon-kub-arw-right arrow'></span><a href="/code/why-clean-code-matters">Why clean code matters</a></li>
  
    <li><span class='icon-kub-arw-right arrow'></span><a href="/tools/meet-jekyll-the-static-site-generator-part-2">Meet Jekyll the Static Site Generator - Part 2</a></li>
  
    <li><span class='icon-kub-arw-right arrow'></span><a href="/tools/meet-jekyll-the-static-site-generator">Meet Jekyll, the Static Site Generator - Part 1</a></li>
  
    <li><span class='icon-kub-arw-right arrow'></span><a href="/code/view-templates-in-php">View templates in PHP</a></li>
  
    <li><span class='icon-kub-arw-right arrow'></span><a href="/books/books-part-1">Books part 1</a></li>
  
  </ul>
</div>

    </aside>
  </body>
  <script src='/assets/global-5732782c281fb04e82223e4fc519f9f4.js' type='text/javascript'></script>

<script type="text/javascript">var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-30348707-2']);_gaq.push(['_trackPageview']);(function(){var a=document.createElement('script');a.type='text/javascript';a.async=true;a.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(a,s)})();</script>

</html>
